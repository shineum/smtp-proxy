smtp:
  host: 0.0.0.0
  port: 587
  max_connections: 1000
  read_timeout: 30s
  write_timeout: 30s
  max_message_size: 26214400

api:
  host: 0.0.0.0
  port: 8080
  read_timeout: 10s
  write_timeout: 10s

database:
  url: "postgres://smtp_proxy:smtp_proxy_dev@localhost:5432/smtp_proxy?sslmode=disable"
  pool_min: 5
  pool_max: 20
  connect_timeout: 5s

logging:
  level: info
  format: json

tls:
  cert_file: ""
  key_file: ""

delivery:
  mode: "sync"  # "sync" (no Redis required) or "async" (requires Redis)

queue:
  redis_addr: "localhost:6379"
  redis_password: ""
  redis_db: 0
  stream_name: "smtp-proxy"
  group_name: "workers"
  consumer_id: "worker-1"
  workers: 10
  block_timeout: "5s"

auth:
  # HMAC signing key for JWT tokens. Override via SMTP_PROXY_AUTH_SIGNING_KEY env var.
  signing_key: "change-me-in-production-use-a-strong-secret"
  access_token_expiry: "15m"
  refresh_token_expiry: "168h"  # 7 days
  issuer: "smtp-proxy"
  audience: "smtp-proxy-api"

rate_limit:
  default_monthly_limit: 10000
  login_attempts_limit: 5
  login_lockout_duration: "15m"

storage:
  type: "local"
  path: "/data/messages"
  s3_bucket: ""
  s3_prefix: ""
  s3_endpoint: ""
  s3_region: "us-east-1"
